<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ•°å­—äººè®­ç»ƒ - å£æ‰è®­ç»ƒåŠ©æ‰‹</title>
    <style>
        :root {
            /* èƒŒæ™¯è‰²ç³» */
            --bg-primary: #0A1628;
            --bg-secondary: #1A1A2E;
            --bg-tertiary: #16213E;
            --bg-overlay: rgba(10, 22, 40, 0.85);
            
            /* å¼ºè°ƒè‰² */
            --accent-primary: #00D9FF;
            --accent-secondary: #7B68EE;
            --accent-gradient: linear-gradient(135deg, #00D9FF 0%, #7B68EE 100%);
            
            /* æ–‡å­—è‰² */
            --text-primary: #F5F5F5;
            --text-secondary: #B8BCC8;
            --text-muted: #6C7293;
            
            /* åŠŸèƒ½è‰² */
            --success: #00F5A0;
            --warning: #F7B731;
            --error: #EE5A6F;
            --info: #4FACFE;
            
            /* è¾¹æ¡†å’Œåˆ†å‰²çº¿ */
            --border-default: rgba(255, 255, 255, 0.1);
            --border-hover: rgba(255, 255, 255, 0.2);
            --border-focus: var(--accent-primary);
            
            /* é˜´å½± */
            --shadow-sm: 0 1px 3px rgba(0, 217, 255, 0.05);
            --shadow-md: 0 4px 6px rgba(0, 217, 255, 0.1);
            --shadow-lg: 0 10px 15px rgba(0, 217, 255, 0.15);
            --shadow-xl: 0 20px 25px rgba(0, 217, 255, 0.2);
            --glow-sm: 0 0 10px rgba(0, 217, 255, 0.3);
            --glow-md: 0 0 20px rgba(0, 217, 255, 0.4);
            
            /* åŠ¨ç”» */
            --duration-fast: 150ms;
            --duration-normal: 300ms;
            --duration-slow: 500ms;
            --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            overflow: hidden;
            position: relative;
        }

        /* ç½‘æ ¼èƒŒæ™¯ */
        .grid-bg {
            position: fixed;
            inset: 0;
            background-image: 
                linear-gradient(rgba(0, 217, 255, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 217, 255, 0.03) 1px, transparent 1px);
            background-size: 50px 50px;
            pointer-events: none;
            z-index: 0;
        }

        /* ä¸»å®¹å™¨ */
        .app-container {
            display: flex;
            flex-direction: column;
            height: 100vh;
            position: relative;
            z-index: 1;
        }

        /* é¡¶éƒ¨æ  */
        .header {
            height: 70px;
            background: rgba(26, 26, 46, 0.8);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border-default);
            display: flex;
            align-items: center;
            padding: 0 2rem;
            gap: 2rem;
        }

        .back-btn {
            width: 40px;
            height: 40px;
            background: transparent;
            border: 1px solid var(--border-default);
            border-radius: 8px;
            color: var(--text-primary);
            cursor: pointer;
            transition: all var(--duration-normal);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
        }

        .back-btn:hover {
            background: rgba(0, 217, 255, 0.1);
            border-color: var(--accent-primary);
            transform: translateX(-2px);
        }

        .header-info {
            flex: 1;
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }

        .training-badge {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.5rem 1rem;
            background: rgba(0, 217, 255, 0.1);
            border: 1px solid var(--accent-primary);
            border-radius: 8px;
        }

        .badge-icon {
            width: 32px;
            height: 32px;
            background: var(--accent-gradient);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            color: var(--bg-primary);
        }

        .badge-text {
            display: flex;
            flex-direction: column;
            gap: 0.125rem;
        }

        .badge-title {
            font-weight: 500;
            font-size: 0.875rem;
        }

        .badge-subtitle {
            font-size: 0.75rem;
            color: var(--text-secondary);
        }

        .training-status {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-default);
            border-radius: 6px;
            font-size: 0.875rem;
        }

        .status-indicator {
            width: 8px;
            height: 8px;
            background: var(--warning);
            border-radius: 50%;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.6; transform: scale(1.2); }
        }

        /* ä¸»è¦å†…å®¹åŒº */
        .main-content {
            flex: 1;
            display: flex;
            overflow: hidden;
        }

        /* å·¦ä¾§èŠå¤©åŒºåŸŸ */
        .chat-section {
            flex: 1;
            display: flex;
            flex-direction: column;
            border-right: 1px solid var(--border-default);
        }

        /* è®­ç»ƒæç¤º */
        .training-hint {
            padding: 1.5rem 2rem;
            background: rgba(123, 104, 238, 0.1);
            border-bottom: 1px solid var(--border-default);
            text-align: center;
        }

        .hint-title {
            font-size: 1rem;
            font-weight: 500;
            margin-bottom: 0.5rem;
            color: var(--accent-secondary);
        }

        .hint-text {
            font-size: 0.875rem;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        /* å¯¹è¯æ¶ˆæ¯åŒº */
        .messages-container {
            flex: 1;
            overflow-y: auto;
            padding: 2rem;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .messages-container::-webkit-scrollbar {
            width: 8px;
        }

        .messages-container::-webkit-scrollbar-track {
            background: transparent;
        }

        .messages-container::-webkit-scrollbar-thumb {
            background: var(--border-default);
            border-radius: 4px;
        }

        /* æ¶ˆæ¯é¡¹ */
        .message {
            display: flex;
            gap: 1rem;
            max-width: 80%;
            animation: fadeIn var(--duration-normal);
        }

        @keyframes fadeIn {
            from { 
                opacity: 0; 
                transform: translateY(10px); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0); 
            }
        }

        .message.user {
            align-self: flex-end;
            flex-direction: row-reverse;
        }

        .message-avatar {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            background: var(--accent-gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.125rem;
            font-weight: 500;
            color: var(--bg-primary);
            flex-shrink: 0;
            box-shadow: var(--shadow-md);
        }

        .message.user .message-avatar {
            background: var(--bg-secondary);
            color: var(--text-primary);
            border: 1px solid var(--border-default);
            box-shadow: none;
        }

        .message-content {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .message-role {
            font-size: 0.75rem;
            color: var(--text-muted);
            font-weight: 500;
        }

        .message.user .message-role {
            text-align: right;
        }

        .message-bubble {
            padding: 1rem 1.25rem;
            background: var(--bg-tertiary);
            border-radius: 12px;
            border: 1px solid var(--border-default);
            position: relative;
        }

        .message.user .message-bubble {
            background: rgba(0, 217, 255, 0.1);
            border-color: var(--accent-primary);
        }

        .message-text {
            font-size: 0.9375rem;
            line-height: 1.6;
            color: var(--text-secondary);
        }

        .message.user .message-text {
            color: var(--text-primary);
        }

        /* è®­ç»ƒåé¦ˆæ ‡è®° */
        .feedback-marker {
            position: absolute;
            top: -8px;
            right: -8px;
            width: 24px;
            height: 24px;
            background: var(--success);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            color: var(--bg-primary);
            font-weight: bold;
            box-shadow: var(--shadow-md);
        }

        /* è¾“å…¥åŒºåŸŸ */
        .input-section {
            padding: 1.5rem 2rem;
            background: var(--bg-secondary);
            border-top: 1px solid var(--border-default);
        }

        .input-container {
            display: flex;
            gap: 1rem;
            align-items: flex-end;
        }

        .input-wrapper {
            flex: 1;
            position: relative;
        }

        .chat-input {
            width: 100%;
            padding: 0.875rem 1rem;
            background: var(--bg-primary);
            border: 1px solid var(--border-default);
            border-radius: 10px;
            color: var(--text-primary);
            font-size: 0.9375rem;
            resize: none;
            min-height: 50px;
            max-height: 150px;
            transition: all var(--duration-normal);
            line-height: 1.5;
        }

        .chat-input:focus {
            outline: none;
            border-color: var(--accent-primary);
            box-shadow: 0 0 0 3px rgba(0, 217, 255, 0.1);
        }

        .chat-input::placeholder {
            color: var(--text-muted);
        }

        .send-btn {
            padding: 0.875rem 1.5rem;
            background: var(--accent-gradient);
            border: none;
            border-radius: 10px;
            color: var(--bg-primary);
            font-weight: 500;
            cursor: pointer;
            transition: all var(--duration-normal);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            white-space: nowrap;
        }

        .send-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md), var(--glow-sm);
        }

        .send-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        /* è®­ç»ƒè¿›åº¦ */
        .progress-section {
            padding: 1rem 2rem;
            background: var(--bg-tertiary);
            border-top: 1px solid var(--border-default);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .progress-info {
            display: flex;
            align-items: center;
            gap: 2rem;
        }

        .progress-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.875rem;
        }

        .progress-label {
            color: var(--text-secondary);
        }

        .progress-value {
            color: var(--accent-primary);
            font-weight: 500;
        }

        .progress-bar {
            width: 300px;
            height: 8px;
            background: var(--bg-secondary);
            border-radius: 4px;
            overflow: hidden;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: var(--accent-gradient);
            width: 35%;
            transition: width var(--duration-slow);
            position: relative;
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            width: 30px;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3));
            animation: shimmer 2s ease-in-out infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-30px); }
            100% { transform: translateX(0); }
        }

        /* å³ä¾§æ€è€ƒè¿‡ç¨‹ */
        .thinking-panel {
            width: 400px;
            background: var(--bg-secondary);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .thinking-header {
            padding: 1.5rem;
            border-bottom: 1px solid var(--border-default);
            background: rgba(26, 26, 46, 0.8);
        }

        .thinking-title {
            font-size: 1.125rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .thinking-content {
            flex: 1;
            overflow-y: auto;
            padding: 1.5rem;
        }

        .thinking-content::-webkit-scrollbar {
            width: 6px;
        }

        .thinking-content::-webkit-scrollbar-track {
            background: transparent;
        }

        .thinking-content::-webkit-scrollbar-thumb {
            background: var(--border-default);
            border-radius: 3px;
        }

        /* æ€è€ƒè¿‡ç¨‹é¡¹ */
        .thinking-item {
            margin-bottom: 1.5rem;
            padding: 1rem;
            background: var(--bg-primary);
            border: 1px solid var(--border-default);
            border-radius: 8px;
            animation: slideIn var(--duration-normal);
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .thinking-stage {
            font-size: 0.75rem;
            color: var(--accent-secondary);
            font-weight: 500;
            margin-bottom: 0.5rem;
            text-transform: uppercase;
        }

        .thinking-detail {
            font-size: 0.875rem;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        /* æ€è€ƒçŠ¶æ€æŒ‡ç¤ºå™¨ */
        .thinking-status {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1rem;
            background: rgba(123, 104, 238, 0.1);
            border: 1px solid var(--accent-secondary);
            border-radius: 6px;
            margin-bottom: 1rem;
        }

        .thinking-dots {
            display: flex;
            gap: 0.25rem;
        }

        .thinking-dots span {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: var(--accent-secondary);
            animation: thinking-pulse 1.4s ease-in-out infinite;
        }

        .thinking-dots span:nth-child(2) {
            animation-delay: 0.2s;
        }

        .thinking-dots span:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes thinking-pulse {
            0%, 80%, 100% {
                opacity: 0.3;
                transform: scale(1);
            }
            40% {
                opacity: 1;
                transform: scale(1.2);
            }
        }

        /* ç­‰å¾…çŠ¶æ€ */
        .waiting-message {
            text-align: center;
            padding: 3rem 2rem;
            color: var(--text-muted);
        }

        .waiting-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto 1.5rem;
            position: relative;
        }

        /* å¤§è„‘å›¾æ ‡åŠ¨ç”» */
        .brain-icon {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--accent-secondary) 0%, var(--accent-primary) 100%);
            -webkit-mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='1.5'%3E%3Cpath d='M12 2C9.5 2 7.5 4 7.5 6.5c0 1-.5 2-1.5 2.5-1 .5-2 1.5-2 3 0 1 .5 2 1.5 2.5.5.25.5 1 0 1.25C4.5 16.25 4 17.25 4 18.5c0 2 1.5 3.5 3.5 3.5 1 0 2-.5 2.5-1.5.5-1 1.5-1.5 2.5-1.5s2 .5 2.5 1.5c.5 1 1.5 1.5 2.5 1.5 2 0 3.5-1.5 3.5-3.5 0-1.25-.5-2.25-1.5-2.75-.5-.25-.5-1 0-1.25 1-.5 1.5-1.5 1.5-2.5 0-1.5-1-2.5-2-3-1-.5-1.5-1.5-1.5-2.5C16.5 4 14.5 2 12 2z'/%3E%3C/svg%3E") center/contain no-repeat;
            mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='1.5'%3E%3Cpath d='M12 2C9.5 2 7.5 4 7.5 6.5c0 1-.5 2-1.5 2.5-1 .5-2 1.5-2 3 0 1 .5 2 1.5 2.5.5.25.5 1 0 1.25C4.5 16.25 4 17.25 4 18.5c0 2 1.5 3.5 3.5 3.5 1 0 2-.5 2.5-1.5.5-1 1.5-1.5 2.5-1.5s2 .5 2.5 1.5c.5 1 1.5 1.5 2.5 1.5 2 0 3.5-1.5 3.5-3.5 0-1.25-.5-2.25-1.5-2.75-.5-.25-.5-1 0-1.25 1-.5 1.5-1.5 1.5-2.5 0-1.5-1-2.5-2-3-1-.5-1.5-1.5-1.5-2.5C16.5 4 14.5 2 12 2z'/%3E%3C/svg%3E") center/contain no-repeat;
            animation: brainPulse 3s ease-in-out infinite;
        }

        @keyframes brainPulse {
            0%, 100% {
                opacity: 0.3;
                transform: scale(1);
            }
            50% {
                opacity: 0.6;
                transform: scale(1.05);
            }
        }

        /* ç¥ç»ç½‘ç»œè¿æ¥åŠ¨ç”» */
        .neural-connections {
            position: absolute;
            inset: -10px;
            opacity: 0.3;
        }

        .neural-dot {
            position: absolute;
            width: 4px;
            height: 4px;
            background: var(--accent-primary);
            border-radius: 50%;
            animation: neuralFlow 4s ease-in-out infinite;
        }

        .neural-dot:nth-child(1) {
            top: 20%;
            left: 10%;
            animation-delay: 0s;
        }

        .neural-dot:nth-child(2) {
            top: 80%;
            left: 20%;
            animation-delay: 0.5s;
        }

        .neural-dot:nth-child(3) {
            top: 50%;
            right: 10%;
            animation-delay: 1s;
        }

        .neural-dot:nth-child(4) {
            bottom: 20%;
            right: 30%;
            animation-delay: 1.5s;
        }

        @keyframes neuralFlow {
            0%, 100% {
                opacity: 0;
                transform: scale(0);
            }
            50% {
                opacity: 1;
                transform: scale(1);
            }
        }

        .waiting-text {
            font-size: 0.9375rem;
            line-height: 1.5;
        }

        .waiting-subtitle {
            font-size: 0.8125rem;
            color: var(--text-muted);
            margin-top: 0.5rem;
            opacity: 0.8;
        }

        /* å“åº”å¼ */
        @media (max-width: 1200px) {
            .thinking-panel {
                width: 350px;
            }
        }

        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }

            .chat-section {
                border-right: none;
                border-bottom: 1px solid var(--border-default);
                height: 60vh;
            }

            .thinking-panel {
                width: 100%;
                height: 40vh;
            }

            .header {
                padding: 0 1rem;
            }

            .header-info {
                gap: 1rem;
            }

            .badge-text {
                display: none;
            }

            .training-status span:not(.status-indicator) {
                display: none;
            }

            .progress-section {
                flex-direction: column;
                gap: 1rem;
                align-items: stretch;
            }

            .progress-bar {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="grid-bg"></div>
    
    <div class="app-container">
        <!-- é¡¶éƒ¨æ  -->
        <header class="header">
            <button class="back-btn" onclick="goBack()">â†</button>
            <div class="header-info">
                <div class="training-badge">
                    <div class="badge-icon">ğŸ¤</div>
                    <div class="badge-text">
                        <div class="badge-title">å£æ‰è®­ç»ƒåŠ©æ‰‹</div>
                        <div class="badge-subtitle">æ¼”è®²æŠ€å·§ä¼˜åŒ–</div>
                    </div>
                </div>
                <div class="training-status">
                    <span class="status-indicator"></span>
                    <span>è®­ç»ƒè¿›è¡Œä¸­</span>
                </div>
            </div>
        </header>

        <!-- ä¸»å†…å®¹åŒº -->
        <main class="main-content">
            <!-- å·¦ä¾§èŠå¤©åŒºåŸŸ -->
            <div class="chat-section">
                <!-- è®­ç»ƒæç¤º -->
                <div class="training-hint">
                    <div class="hint-title">ğŸ¯ è®­ç»ƒæ¨¡å¼å·²å¼€å¯</div>
                    <div class="hint-text">è¯·é€šè¿‡å¯¹è¯æ¥è®­ç»ƒä½ çš„æ•°å­—äººã€‚æ¯æ¬¡å¯¹è¯éƒ½ä¼šå¸®åŠ©å®ƒæ›´å¥½åœ°ç†è§£å’Œå­¦ä¹ ä½ æœŸæœ›çš„è¡Œä¸ºæ¨¡å¼ã€‚</div>
                </div>

                <!-- å¯¹è¯æ¶ˆæ¯ -->
                <div class="messages-container">
                    <!-- ç³»ç»Ÿæ¶ˆæ¯ -->
                    <div class="message">
                        <div class="message-avatar">ğŸ¤–</div>
                        <div class="message-content">
                            <div class="message-role">ç³»ç»Ÿ</div>
                            <div class="message-bubble">
                                <div class="message-text">è®­ç»ƒå·²å¼€å§‹ã€‚è¯·å¼€å§‹ä¸æ•°å­—äººå¯¹è¯ï¼Œé€šè¿‡çº æ­£å’Œå¼•å¯¼æ¥å¸®åŠ©å®ƒå­¦ä¹ ã€‚æ¯ä¸ªé«˜è´¨é‡çš„å¯¹è¯éƒ½ä¼šæå‡è®­ç»ƒæ•ˆæœã€‚</div>
                            </div>
                        </div>
                    </div>

                    <!-- AIæ¶ˆæ¯ -->
                    <div class="message">
                        <div class="message-avatar">ğŸ¤</div>
                        <div class="message-content">
                            <div class="message-role">å£æ‰è®­ç»ƒåŠ©æ‰‹</div>
                            <div class="message-bubble">
                                <div class="message-text">ä½ å¥½ï¼æˆ‘æ˜¯ä½ çš„å£æ‰è®­ç»ƒåŠ©æ‰‹ã€‚è¯·é—®ä½ æƒ³è¦æå‡å“ªæ–¹é¢çš„å£æ‰èƒ½åŠ›å‘¢ï¼Ÿæ˜¯å…¬ä¼—æ¼”è®²ã€èŒåœºæ²Ÿé€šè¿˜æ˜¯æ—¥å¸¸äº¤æµï¼Ÿ</div>
                            </div>
                        </div>
                    </div>

                    <!-- ç”¨æˆ·æ¶ˆæ¯ -->
                    <div class="message user">
                        <div class="message-avatar">æˆ‘</div>
                        <div class="message-content">
                            <div class="message-role">è®­ç»ƒè€…</div>
                            <div class="message-bubble">
                                <div class="message-text">æˆ‘æƒ³å­¦ä¹ å¦‚ä½•åœ¨ä¼šè®®ä¸Šæ›´æœ‰æ¡ç†åœ°è¡¨è¾¾è§‚ç‚¹</div>
                                <div class="feedback-marker">âœ“</div>
                            </div>
                        </div>
                    </div>

                    <!-- AIå›å¤ -->
                    <div class="message">
                        <div class="message-avatar">ğŸ¤</div>
                        <div class="message-content">
                            <div class="message-role">å£æ‰è®­ç»ƒåŠ©æ‰‹</div>
                            <div class="message-bubble">
                                <div class="message-text">åœ¨ä¼šè®®ä¸Šæœ‰æ¡ç†åœ°è¡¨è¾¾è§‚ç‚¹ç¡®å®å¾ˆé‡è¦ï¼æˆ‘å»ºè®®ä½ ä½¿ç”¨"PREP"ç»“æ„ï¼š

1. **P (Point)** - å…ˆæ˜ç¡®ä½ çš„æ ¸å¿ƒè§‚ç‚¹
2. **R (Reason)** - è¯´æ˜æ”¯æŒè§‚ç‚¹çš„ç†ç”±
3. **E (Example)** - ä¸¾å…·ä½“çš„ä¾‹å­
4. **P (Point)** - æœ€åé‡ç”³è§‚ç‚¹

æ¯”å¦‚ï¼š"æˆ‘è®¤ä¸ºæˆ‘ä»¬åº”è¯¥è°ƒæ•´äº§å“ç­–ç•¥ï¼ˆè§‚ç‚¹ï¼‰ï¼Œå› ä¸ºå¸‚åœºæ•°æ®æ˜¾ç¤ºç”¨æˆ·éœ€æ±‚åœ¨å˜åŒ–ï¼ˆç†ç”±ï¼‰ï¼Œä¸Šä¸ªæœˆçš„ç”¨æˆ·è°ƒç ”å°±å‘ç°...ï¼ˆä¾‹å­ï¼‰ï¼Œæ‰€ä»¥è°ƒæ•´ç­–ç•¥åŠ¿åœ¨å¿…è¡Œï¼ˆé‡ç”³ï¼‰ã€‚"

è¦ä¸è¦ç°åœ¨ç»ƒä¹ ä¸€ä¸‹ï¼Ÿ</div>
                                <div class="feedback-marker">âœ“</div>
                            </div>
                        </div>
                    </div>

                    <!-- æ›´å¤šå¯¹è¯... -->
                    <div class="message user">
                        <div class="message-avatar">æˆ‘</div>
                        <div class="message-content">
                            <div class="message-role">è®­ç»ƒè€…</div>
                            <div class="message-bubble">
                                <div class="message-text">å¥½çš„ï¼Œä½†æ˜¯èƒ½ä¸èƒ½å†ç®€æ´ä¸€äº›ï¼Ÿæœ‰æ—¶å€™ä¼šè®®æ—¶é—´å¾ˆç´§å¼ </div>
                            </div>
                        </div>
                    </div>

                    <!-- AIå­¦ä¹ å¹¶è°ƒæ•´ -->
                    <div class="message">
                        <div class="message-avatar">ğŸ¤</div>
                        <div class="message-content">
                            <div class="message-role">å£æ‰è®­ç»ƒåŠ©æ‰‹</div>
                            <div class="message-bubble">
                                <div class="message-text">æ˜ç™½äº†ï¼æ—¶é—´ç´§å¼ æ—¶ï¼Œå¯ä»¥ç”¨"30ç§’ç”µæ¢¯æ³•åˆ™"ï¼š

1. **ä¸€å¥è¯è§‚ç‚¹**ï¼ˆ5ç§’ï¼‰
2. **ä¸‰ä¸ªå…³é”®ç†ç”±**ï¼ˆ20ç§’ï¼‰
3. **è¡ŒåŠ¨å»ºè®®**ï¼ˆ5ç§’ï¼‰

ä¾‹å¦‚ï¼š"å»ºè®®ä¼˜å…ˆå¼€å‘ç§»åŠ¨ç«¯ã€‚ç†ç”±ï¼šä¸€æ˜¯ç§»åŠ¨ç”¨æˆ·å 70%ï¼ŒäºŒæ˜¯ç«å“éƒ½åœ¨å‘åŠ›ç§»åŠ¨ï¼Œä¸‰æ˜¯å¼€å‘æˆæœ¬æ›´ä½ã€‚å»ºè®®ä¸‹å‘¨å¯åŠ¨ç§»åŠ¨ç«¯é¡¹ç›®ã€‚"

ç®€æ´æœ‰åŠ›ï¼Œé€‚åˆå¿«èŠ‚å¥ä¼šè®®ï¼</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- è¾“å…¥åŒºåŸŸ -->
                <div class="input-section">
                    <div class="input-container">
                        <div class="input-wrapper">
                            <textarea 
                                class="chat-input" 
                                placeholder="è¾“å…¥è®­ç»ƒå¯¹è¯å†…å®¹..."
                                rows="1"
                            ></textarea>
                        </div>
                        <button class="send-btn">
                            <span>å‘é€</span>
                            <span>â†µ</span>
                        </button>
                    </div>
                </div>

                <!-- è®­ç»ƒè¿›åº¦ -->
                <div class="progress-section">
                    <div class="progress-info">
                        <div class="progress-item">
                            <span class="progress-label">å¯¹è¯è½®æ¬¡ï¼š</span>
                            <span class="progress-value">12</span>
                        </div>
                        <div class="progress-item">
                            <span class="progress-label">æœ‰æ•ˆè®­ç»ƒï¼š</span>
                            <span class="progress-value">8</span>
                        </div>
                        <div class="progress-item">
                            <span class="progress-label">è®­ç»ƒè´¨é‡ï¼š</span>
                            <span class="progress-value">ä¼˜ç§€</span>
                        </div>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill"></div>
                    </div>
                </div>
            </div>

            <!-- å³ä¾§æ€è€ƒè¿‡ç¨‹ -->
            <aside class="thinking-panel">
                <div class="thinking-header">
                    <h2 class="thinking-title">
                        <span>ğŸ§ </span>
                        <span>ReAct æ€è€ƒè¿‡ç¨‹</span>
                    </h2>
                </div>
                <div class="thinking-content" id="thinkingContent">
                    <!-- ç­‰å¾…çŠ¶æ€ -->
                    <div class="waiting-message" id="waitingMessage">
                        <div class="waiting-icon">
                            <div class="brain-icon"></div>
                            <div class="neural-connections">
                                <span class="neural-dot"></span>
                                <span class="neural-dot"></span>
                                <span class="neural-dot"></span>
                                <span class="neural-dot"></span>
                            </div>
                        </div>
                        <div class="waiting-text">AI æ€ç»´å¾…æ¿€æ´»</div>
                        <div class="waiting-subtitle">å¼€å§‹å¯¹è¯åæŸ¥çœ‹æ€è€ƒè¿‡ç¨‹</div>
                    </div>

                    <!-- æ€è€ƒè¿‡ç¨‹å†…å®¹ï¼ˆé»˜è®¤éšè—ï¼‰ -->
                    <div id="thinkingProcess" style="display: none;">
                        <!-- å½“å‰æ€è€ƒçŠ¶æ€ -->
                        <div class="thinking-status">
                            <span>æ­£åœ¨åˆ†æ</span>
                            <div class="thinking-dots">
                                <span></span>
                                <span></span>
                                <span></span>
                            </div>
                        </div>

                        <!-- æ€è€ƒæ­¥éª¤ -->
                        <div class="thinking-item">
                            <div class="thinking-stage">ç†è§£é˜¶æ®µ</div>
                            <div class="thinking-detail">ç”¨æˆ·è¯¢é—®å¦‚ä½•åœ¨ä¼šè®®ä¸­æœ‰æ¡ç†åœ°è¡¨è¾¾è§‚ç‚¹ï¼Œè¿™æ˜¯ä¸€ä¸ªå…³äºèŒåœºæ²Ÿé€šæŠ€å·§çš„é—®é¢˜ã€‚</div>
                        </div>

                        <div class="thinking-item">
                            <div class="thinking-stage">åˆ†æé˜¶æ®µ</div>
                            <div class="thinking-detail">éœ€è¦æä¾›ä¸€ä¸ªç»“æ„åŒ–çš„æ–¹æ³•ï¼Œå¸®åŠ©ç”¨æˆ·åœ¨æœ‰é™æ—¶é—´å†…æ¸…æ™°è¡¨è¾¾ã€‚PREPç»“æ„æ˜¯ä¸€ä¸ªç»å…¸ä¸”æœ‰æ•ˆçš„æ¡†æ¶ã€‚</div>
                        </div>

                        <div class="thinking-item">
                            <div class="thinking-stage">è°ƒæ•´é˜¶æ®µ</div>
                            <div class="thinking-detail">ç”¨æˆ·åé¦ˆéœ€è¦æ›´ç®€æ´çš„æ–¹æ¡ˆï¼Œè¯´æ˜ä¼šè®®æ—¶é—´ç´§å¼ ã€‚éœ€è¦æä¾›ä¸€ä¸ªæ›´ç²¾ç®€çš„è¡¨è¾¾æ¡†æ¶ã€‚</div>
                        </div>

                        <div class="thinking-item">
                            <div class="thinking-stage">ä¼˜åŒ–é˜¶æ®µ</div>
                            <div class="thinking-detail">é‡‡ç”¨"30ç§’ç”µæ¢¯æ³•åˆ™"ï¼Œå°†è¡¨è¾¾å‹ç¼©åˆ°æœ€ç²¾åçš„éƒ¨åˆ†ï¼Œç¬¦åˆå¿«èŠ‚å¥ä¼šè®®çš„éœ€æ±‚ã€‚</div>
                        </div>
                    </div>
                </div>
            </aside>
        </main>
    </div>

    <script>
        // è¿”å›
        function goBack() {
            console.log('è¿”å›ä¸ªäººä¸­å¿ƒ');
        }

        // è‡ªåŠ¨è°ƒæ•´è¾“å…¥æ¡†é«˜åº¦
        const textarea = document.querySelector('.chat-input');
        textarea.addEventListener('input', function() {
            this.style.height = 'auto';
            this.style.height = Math.min(this.scrollHeight, 150) + 'px';
        });

        // å‘é€æ¶ˆæ¯
        const sendBtn = document.querySelector('.send-btn');
        const messagesContainer = document.querySelector('.messages-container');
        const thinkingContent = document.getElementById('thinkingContent');
        const waitingMessage = document.getElementById('waitingMessage');
        const thinkingProcess = document.getElementById('thinkingProcess');
        
        let messageCount = 6; // å·²æœ‰æ¶ˆæ¯æ•°

        sendBtn.addEventListener('click', sendMessage);
        textarea.addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        });

        function sendMessage() {
            const text = textarea.value.trim();
            if (!text) return;

            // æ·»åŠ ç”¨æˆ·æ¶ˆæ¯
            const userMessage = createMessage('user', text, 'è®­ç»ƒè€…', 'æˆ‘');
            messagesContainer.appendChild(userMessage);

            // æ¸…ç©ºè¾“å…¥
            textarea.value = '';
            textarea.style.height = 'auto';

            // æ˜¾ç¤ºæ€è€ƒè¿‡ç¨‹
            showThinkingProcess();
            
            // æ»šåŠ¨åˆ°åº•éƒ¨
            messagesContainer.scrollTop = messagesContainer.scrollHeight;

            // æ¨¡æ‹ŸAIå›å¤
            setTimeout(() => {
                const aiResponses = [
                    "å¾ˆå¥½çš„é—®é¢˜ï¼è®©æˆ‘æ ¹æ®ä½ çš„éœ€æ±‚æ¥è°ƒæ•´æˆ‘çš„å›ç­”æ–¹å¼...",
                    "æˆ‘ç†è§£äº†ï¼Œä¸‹æ¬¡æˆ‘ä¼šæ³¨æ„è¿™ä¸€ç‚¹ã€‚è®©æˆ‘é‡æ–°ç»„ç»‡ä¸€ä¸‹...",
                    "è°¢è°¢ä½ çš„åé¦ˆï¼è¿™æ ·ç¡®å®æ›´æ¸…æ™°ã€‚æˆ‘æ¥æ¼”ç¤ºä¸€ä¸‹...",
                    "æ˜ç™½äº†ï¼æˆ‘ä¼šè®°ä½è¿™ä¸ªæŠ€å·§ã€‚é‚£ä¹ˆæ¥ä¸‹æ¥...",
                ];
                
                const response = aiResponses[Math.floor(Math.random() * aiResponses.length)];
                const aiMessage = createMessage('ai', response, 'å£æ‰è®­ç»ƒåŠ©æ‰‹', 'ğŸ¤');
                messagesContainer.appendChild(aiMessage);
                
                // æ›´æ–°è¿›åº¦
                updateProgress();
                
                // æ»šåŠ¨åˆ°åº•éƒ¨
                messagesContainer.scrollTop = messagesContainer.scrollHeight;

                // éšè—æ€è€ƒè¿‡ç¨‹
                setTimeout(() => {
                    hideThinkingProcess();
                }, 1000);
            }, 2000);
        }

        function createMessage(type, text, role, avatar) {
            const message = document.createElement('div');
            message.className = `message ${type === 'user' ? 'user' : ''}`;
            
            // éšæœºå†³å®šæ˜¯å¦æ·»åŠ åé¦ˆæ ‡è®°ï¼ˆæ¨¡æ‹Ÿæœ‰æ•ˆè®­ç»ƒï¼‰
            const hasFeedback = Math.random() > 0.3;
            
            message.innerHTML = `
                <div class="message-avatar">${avatar}</div>
                <div class="message-content">
                    <div class="message-role">${role}</div>
                    <div class="message-bubble">
                        <div class="message-text">${text}</div>
                        ${hasFeedback ? '<div class="feedback-marker">âœ“</div>' : ''}
                    </div>
                </div>
            `;
            
            return message;
        }

        function updateProgress() {
            messageCount++;
            
            // æ›´æ–°å¯¹è¯è½®æ¬¡
            document.querySelector('.progress-value').textContent = Math.floor(messageCount / 2);
            
            // æ›´æ–°æœ‰æ•ˆè®­ç»ƒæ•°
            const effectiveCount = Math.floor(messageCount / 2 * 0.7);
            document.querySelectorAll('.progress-value')[1].textContent = effectiveCount;
            
            // æ›´æ–°è¿›åº¦æ¡
            const progress = Math.min((messageCount / 30) * 100, 90);
            document.querySelector('.progress-fill').style.width = progress + '%';
        }

        // æ˜¾ç¤ºæ€è€ƒè¿‡ç¨‹
        function showThinkingProcess() {
            waitingMessage.style.display = 'none';
            thinkingProcess.style.display = 'block';
            
            // æ·»åŠ æ–°çš„æ€è€ƒæ­¥éª¤åŠ¨ç”»
            const thinkingSteps = [
                { stage: 'ç†è§£é˜¶æ®µ', detail: 'åˆ†æç”¨æˆ·è¾“å…¥çš„æ„å›¾å’Œéœ€æ±‚...' },
                { stage: 'æ£€ç´¢é˜¶æ®µ', detail: 'ä»çŸ¥è¯†åº“ä¸­æŸ¥æ‰¾ç›¸å…³ä¿¡æ¯...' },
                { stage: 'ç”Ÿæˆé˜¶æ®µ', detail: 'æ„å»ºç¬¦åˆç”¨æˆ·éœ€æ±‚çš„å›å¤...' },
                { stage: 'ä¼˜åŒ–é˜¶æ®µ', detail: 'è°ƒæ•´è¯­è¨€é£æ ¼å’Œè¡¨è¾¾æ–¹å¼...' }
            ];
            
            // æ¸…ç©ºç°æœ‰æ€è€ƒæ­¥éª¤ï¼ˆä¿ç•™çŠ¶æ€æŒ‡ç¤ºå™¨ï¼‰
            const existingItems = thinkingProcess.querySelectorAll('.thinking-item');
            existingItems.forEach(item => item.remove());
            
            // é€æ­¥æ·»åŠ æ€è€ƒæ­¥éª¤
            thinkingSteps.forEach((step, index) => {
                setTimeout(() => {
                    const item = document.createElement('div');
                    item.className = 'thinking-item';
                    item.innerHTML = `
                        <div class="thinking-stage">${step.stage}</div>
                        <div class="thinking-detail">${step.detail}</div>
                    `;
                    thinkingProcess.appendChild(item);
                    
                    // æ»šåŠ¨åˆ°æœ€æ–°å†…å®¹
                    thinkingContent.scrollTop = thinkingContent.scrollHeight;
                }, index * 400);
            });
        }

        // éšè—æ€è€ƒè¿‡ç¨‹
        function hideThinkingProcess() {
            setTimeout(() => {
                waitingMessage.style.display = 'block';
                thinkingProcess.style.display = 'none';
            }, 2000);
        }
    </script>
</body>
</html>